(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{54542:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return xe}});t(3750);var r,a=t(61162),o=(t(74300),t(39970)),i=t(2784),s=t(62918),c=t(38116),l=t(5632),u=t(26846),d=t.n(u),p=t(95235),m=t(92467);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,p.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e[e.INITIAL=0]="INITIAL",e[e.PENDING=1]="PENDING",e[e.SUCCESSFUL=2]="SUCCESSFUL",e[e.FAILED=3]="FAILED"}(r||(r={}));var A=(0,m.Z)((function(e,n){return{networkStatus:r.INITIAL,operations:[],error:null,keyword:"",updateState:function(t){e(f(f({},n()),t))}}})),g=(t(56735),t(80877)),v=(t(35850),t(37788)),j=(t(59438),t(16124)),x=(t(17169),t(10722)),y=t(8529),b=t(6523),N=t(39264),w=t(72779),I=t.n(w);const E=e=>{const[n,t]=e.description?.includes(":")?e.description.split(/[:]\s*/):["default",e.description];return{groupName:n,operation:{...e,description:t}}};const O=e=>" ".repeat(e),k=(e,n,t,r)=>{const{name:a,args:o,output:i}=e;let s=`${O(n)}${a}`;o.length&&(s+=`(${o.map((e=>{const n=r.filter((n=>n.name===e.name)).length,t=`${e.name}${n||""}`;return r.push({...e,name:t}),`${e.name}: $${t}`})).join(", ")})`);const c=(e,n)=>`${e.fields.reduce(((e,a)=>e+k(a,n,t,r)),"")}`;switch(i.kind){case"Scalar":case"Enum":s+="\n";break;case"Object":s+=`${O(1)}{\n${c(i,n+t)}${O(n)}}\n`;break;case"Union":s+=`${O(1)}{${i.types.reduce(((e,r)=>e+`${O(n+t)}...${O(1)}on${O(1)}${r.ofName}${O(1)}{\n${c(r,n+2*t)}${O(n+t)}}\n`),"\n")}${O(n)}}\n`}return s},S=(e,n=2)=>{const t=e.description?`# ${e.description}\n`:"",r=e.operationType,a=e.name,o=[],i=k(e,n,n,o),s=o.length?`(${o.map((e=>`$${e.name}: ${e.type.name}`)).join(", ")})`:"";return`${t}${r}${O(1)}${a}${s}${O(1)}{\n${i}}`},_=(e,n)=>n.reduce(((e,t,r)=>{const a=r===n.length-1;return e+S(t)+(a?"\n":"\n\n")}),`# ${e} \n\n`);var C=t(96577),L=t.n(C),D=(t(21658),t(99523)),B=(t(32143),t(61240)),P=(t(58802),t(45904)),T=(t(21166),t(58964)),Z=(t(24636),t(19961)),R=t(52746),$=t(82269),U=t(23714),G=t(57647),Q=t.n(G),M=t(25237),V=t.n(M),F=t(43606),X=t.n(F),W=t(4359),q=t.n(W),K={host:""},z=t(52322),Y=["type"],J=["output"];function H(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ee(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?H(Object(t),!0).forEach((function(n){(0,p.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ne=V()((function(){return Promise.all([t.e(32),t.e(291)]).then(t.bind(t,21291)).then((function(e){return Promise.all([t.e(21).then(t.t.bind(t,50021,23)),t.e(775).then(t.t.bind(t,96775,23))]).then((function(){return e.default}))}))}),{ssr:!1,loadableGenerated:{webpack:function(){return[21291,50021,96775]}}}),te=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=n.map((function(n){var r=n.type,a=(0,$.Z)(n,Y),o="".concat(t).concat(a.name),i=[];switch(r.kind){case"Scalar":i=null;break;case"InputObject":i=e(r.fields,o);break;case"Enum":i=r.values.map((function(e){return{key:o+e.value,name:e.name,type:"",defaultValue:e.value,description:e.description,deprecationReason:e.deprecationReason,children:null}}))}return ee(ee({},a),{},{key:o,type:r.name,children:i})}));return r},re=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=n.map((function(n){var r=n.output,a=(0,$.Z)(n,J),o="".concat(t).concat(a.name),i=[];switch(r.kind){case"Scalar":i=[];break;case"Object":i=e(r.fields,o);break;case"Enum":i=r.values.map((function(e){return{key:o+e.value,name:e.name,type:"",defaultValue:e.value,description:e.description,deprecationReason:e.deprecationReason,children:null}}));break;case"Union":r.types.forEach((function(n){i=[].concat((0,R.Z)(i||[]),(0,R.Z)(e(n.fields,o)))}))}return ee(ee({},a),{},{key:o,defaultValue:null,type:r.name,children:i.length>0?i:null})}));return r},ae=function(e){return[{title:"Name",dataIndex:"name",width:"35%",render:function(e,n){return n.deprecationReason?(0,z.jsx)("span",{className:q().deprecated,children:e}):e}},{title:"Description",dataIndex:"description",width:"25%",render:function(e,n){var t=n.deprecationReason;return t?(0,z.jsxs)(z.Fragment,{children:[e,(0,z.jsx)("span",{className:q().warning,children:t})]}):e}},{title:"arguments"===e?"Required":"Nullable",dataIndex:"type",width:"20%",render:function(n){var t=!(null!==n&&void 0!==n&&n.endsWith("!"));return"arguments"===e&&(t=!(null===n||void 0===n||!n.endsWith("!"))),!0===t?(0,z.jsx)(Z.Z,{style:{borderRadius:4},color:"success",children:"True"}):(0,z.jsx)(Z.Z,{style:{borderRadius:4},color:"error",children:"False"})}},{title:"Type",dataIndex:"type",width:"20%",render:function(e){return null!==e&&void 0!==e&&e.endsWith("!")?e.slice(0,e.length-1):e}}]},oe=function(e){var n=new(Q())(e);n.on("success",(function(){T.default.success("success"),n.destroy()})),n.on("error",(function(){T.default.error("failed"),n.destroy()}))},ie=function(e){var n=e.operation,t=(0,c.useToggle)("TABLE","EDITOR"),r=(0,y.Z)(t,2),a=r[0],o=r[1].toggle,s=(0,i.useMemo)((function(){return te(n.args)}),[n.args]),l=(0,i.useMemo)((function(){return ae("arguments")}),[]),u=(0,i.useMemo)((function(){return re([n])}),[]),d=(0,i.useMemo)((function(){return ae("return")}),[]),p=(0,i.useMemo)((function(){return S(n)}),[n]);return(0,z.jsxs)(j.default,{id:n.name,className:q().operationDoc,direction:"vertical",children:[(0,z.jsxs)("div",{className:q().name,children:[(0,z.jsxs)(j.default,{size:40,children:[(0,z.jsxs)("span",{children:["Operation name:",(0,z.jsx)("span",{className:q().operationName,children:" ".concat(n.name)})]}),(0,z.jsxs)("span",{children:["Operation type:",(0,z.jsx)("span",{className:q().operationName,children:" ".concat(n.operationType)})]})]}),(0,z.jsxs)(j.default,{size:88,children:[(0,z.jsx)(x.default,{title:"Copy GQL",children:(0,z.jsxs)(j.default,{id:"copy","data-clipboard-text":p,className:q().copyBtn,onClick:function(){oe("#copy")},children:[(0,z.jsx)(b.Z,{}),(0,z.jsx)("span",{className:q().text,children:"Copy GQL"})]})}),(0,z.jsx)(x.default,{title:"Debug",children:(0,z.jsxs)(j.default,{className:q().copyBtn,onClick:function(){window.open("".concat(K.host,"/playground?operationName=").concat(encodeURIComponent(n.name),"&operationType=").concat(encodeURIComponent(n.operationType)),"_blank")},children:[(0,z.jsx)(U.Z,{}),(0,z.jsx)("span",{className:q().text,children:"Debug"})]})}),(0,z.jsx)(P.Z,{size:"default",checked:"EDITOR"===a,checkedChildren:"editor",unCheckedChildren:"table",onChange:function(){o()}})]})]}),!!s.length&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(B.Z,{className:q().divider}),(0,z.jsx)("div",{className:q().paramsText,children:"Params: "}),"TABLE"===a?(0,z.jsx)(D.Z,{columns:l,defaultExpandAllRows:!0,className:q().table,dataSource:s,pagination:!1,bordered:!0}):(0,z.jsx)(ne,{theme:"tomorrow",mode:"javascript",width:"100%",readOnly:!0,maxLines:1/0,value:X()(n.argsExample)})]}),(0,z.jsx)("div",{children:"Response: "}),"TABLE"===a?(0,z.jsx)(D.Z,{columns:d,defaultExpandAllRows:!0,className:q().table,dataSource:u,pagination:!1,bordered:!0}):(0,z.jsx)(ne,{theme:"tomorrow",mode:"javascript",width:"100%",readOnly:!0,maxLines:1/0,value:X()(n.outputExample),editorProps:{$blockScrolling:!1}})]})},se=t(76097),ce=t.n(se),le={src:"/_next/static/media/collapse-all.3f2cc774.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAXUlEQVR42mXLIQqDAABA0YcrW1kZrA02WNkOIIgm0SBavIFR8BIWQT2AB/IKXshg9KdfHgQAx1/w8FRp/IGf1VdrEAOhzUuk9IGD3HUmCXBVqKVyb+CmNxstMqeCHYUICh0XPQFGAAAAAElFTkSuQmCC"},ue={src:"/_next/static/media/back-top.dd96d2ae.png",height:49,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAPUlEQVR42k2MQQoAIAgEp7r0sh7WzV948p2JLdQs6AiyFE0REmS91DPvItiZQDhW2+7XZKmWtEnRNcXgswPMSQaVGXzRzAAAAABJRU5ErkJggg=="},de=function(e){var n=e.keyword,t=e.onKeywordChange,r=e.operations,a=e.onSelect,o=e.selectedOperationId,s=(0,i.useState)(0),l=s[0],u=s[1],d=(0,c.useThrottleFn)((function(e){u(e.nativeEvent.target.scrollTop)}),{wait:100}),m=(0,i.useMemo)((function(){return function(e,n=E){const t={};return e.forEach((e=>{const{groupName:r,operation:a}=n(e);t[r]?t[r].push(a):t[r]=[a]})),t}(r)}),[r]),h=(0,i.useMemo)((function(){var e=[];return Object.entries(m).some((function(n){var t=(0,y.Z)(n,2),r=t[0];t[1].some((function(e){return e.operationType+e.name===o}))&&e.push(r)})),e}),[]),f=(0,i.useState)(h),A=f[0],w=f[1],O=(0,i.useMemo)((function(){return Object.entries(m).map((function(e){var t=(0,y.Z)(e,2),r=t[0],i=t[1],s=i,c=new RegExp(n,"i");return c.test(r)||n.trim()&&(s=i.filter((function(e){return c.test(e.name)||c.test(e.description||"")||e.args.some((function(e){return c.test(e.type.name)}))||c.test(e.output.name)}))),s.length?(0,z.jsx)(v.Z.Panel,{header:r,className:A.includes(r)?ce().collapse_active:"",children:(0,z.jsxs)("div",{className:ce().operationList,children:[(0,z.jsx)(x.default,{title:"Copy GQL",children:(0,z.jsx)(b.Z,{id:r,"data-clipboard-text":_(r,s),className:ce().copyBtn,onClick:function(){oe("#".concat(r))}})}),s.map((function(e,n){var t=e.deprecationReason;return(0,z.jsx)("div",{className:I()(ce().operationItem,(0,p.Z)({},ce().active,e.operationType+e.name===o)),onClick:function(){a(e)},children:(0,z.jsx)("div",{className:I()((0,p.Z)({},ce().deprecated,!!t)),children:(0,z.jsxs)(j.default,{direction:"vertical",children:[e.description||e.name,!!t&&(0,z.jsx)("span",{className:ce().warning,children:t})]})})},n)}))]})},r):null}))}),[m,n,a,o,A]),k=(0,i.useState)(!1),S=k[0],C=k[1];return(0,z.jsxs)("div",{className:ce().sidebar,children:[(0,z.jsx)("div",{className:ce().wrapper_search,children:(0,z.jsx)(g.default,{className:ce().search,onFocus:function(){C(!0)},onBlur:function(){C(!1)},suffix:(0,z.jsx)(N.Z,{className:S?ce().icon_color:""}),size:"large",placeholder:"Search by group/desc/name/type",onChange:function(e){t(e.target.value)},value:n})}),(0,z.jsx)("div",{className:ce().main,id:"sideBar",onScroll:d.run,children:(0,z.jsx)(v.Z,{className:ce().collapse_box,bordered:!1,activeKey:A,onChange:function(e){Array.isArray(e)&&w(e)},children:O})}),(0,z.jsx)(x.default,{title:"Collapse all",children:(0,z.jsx)("div",{style:{bottom:100},className:I()(ce().topBtn,(0,p.Z)({},ce().show,A.length)),onClick:function(){w([])},children:(0,z.jsx)(L(),{src:le,width:32,height:32})})}),(0,z.jsx)(x.default,{title:"Back to top",children:(0,z.jsx)("div",{className:I()(ce().topBtn,(0,p.Z)({},ce().show,l>800)),onClick:function(){var e;null===(e=document.getElementById("sideBar"))||void 0===e||e.scrollTo(0,0)},children:(0,z.jsx)(L(),{src:ue,width:32,height:32})})})]})},pe=(0,i.memo)(de),me=function(e){var n=e.operation;return(0,i.useMemo)((function(){return n?(0,z.jsx)(ie,{operation:n}):null}),[n])},he=(0,i.memo)(me),fe=t(74895),Ae=t.n(fe),ge={src:"/_next/static/media/qiufen-logo.d3f1a0d2.png",height:90,width:90,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAvElEQVR42mPwW/qPkQEHcG9AkvNd8K/GZ8a/5169/557tP6rQVHpv/pfnd/Sf/99Zv/b69n9b69747//blX/6uAKAjb9exGw/t8BGN81/99B1+J/L+AKgvb8exS0/99ZGN9z4r8TLun/XnlN+ccGFgg+8i875OS//6EX/92Oev3vjt+af/+dIv4/CDr8j4Mh/BbEpaHn/sWHXf13LvLZvwN+a//NcE7+f9Vr+j8uiBV7Mb3qVv5P3jn+PysAyiJfgllqrIkAAAAASUVORK5CYII="},ve=function(e){var n=e.children;return(0,z.jsxs)("div",{className:Ae().page,children:[(0,z.jsxs)("div",{className:Ae().header,children:[(0,z.jsx)(L(),{className:Ae().logo,width:32,height:32,src:ge}),(0,z.jsx)("div",{className:Ae().appName,children:"qiufen"})]}),n]})},je=function(){var e=A(),n=e.networkStatus,t=e.operations,u=e.error,p=e.keyword,m=e.updateState,h=(0,l.useRouter)(),f=h.query;(0,c.useMount)((function(){[r.INITIAL,r.FAILED].includes(n)&&(m({networkStatus:r.PENDING}),fetch("".concat(K.host,"/graphql/operations")).then((function(e){return e.json()})).then((function(e){m({networkStatus:r.SUCCESSFUL,operations:e.data,error:null})})).catch((function(e){m({networkStatus:r.FAILED,operations:[],error:e})})))}));var g=(0,i.useCallback)((function(e){h.push("/docs?operationType=".concat(e.operationType,"&operationName=").concat(e.name))}),[m]),v=(0,i.useCallback)((function(e){m({keyword:e})}),[m]),j=null;if([r.INITIAL,r.PENDING].includes(n))j=(0,z.jsx)("div",{className:d().placeholderWrapper,children:(0,z.jsx)(o.default,{indicator:(0,z.jsx)(s.Z,{style:{fontSize:"36px"}})})});else if(n===r.FAILED||0===t.length)j=(0,z.jsx)("div",{className:d().placeholderWrapper,children:(0,z.jsx)(a.default,{image:a.default.PRESENTED_IMAGE_SIMPLE,description:(null===u||void 0===u?void 0:u.message)||"It seems that there is no operations in your schema"})});else{var x=f.operationType,y=void 0===x?"":x,b=f.operationName,N=y+(void 0===b?"":b),w=t.find((function(e){return e.operationType+e.name===N}))||(N=t[0].operationType+t[0].name,t[0]);j=(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(pe,{keyword:p,onKeywordChange:v,operations:t,selectedOperationId:N,onSelect:g}),(0,z.jsx)(he,{operation:w},N)]})}return(0,z.jsx)("div",{className:d().main,children:j})};je.getLayout=function(e){return(0,z.jsx)(ve,{children:e})};var xe=je},71082:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs",function(){return t(54542)}])},74895:function(e){e.exports={page:"yv_HXrtZ",header:"u_jz5K7Z",logo:"__2HdoX1q_",appName:"qzSLGtDB",nav:"MUNLv3Nx",active:"hJ5QSYW8"}},4359:function(e){e.exports={operationDoc:"DyqA8Bgv",name:"pSIl_fr6",argName:"Y9NT__lk",copyBtn:"__7C_TibQ4",deprecated:"y2ngpDxj",warning:"__5pJigJSw",table:"_sgBjBCu",operationName:"mkILXsy_",text:"tC5_r_LD",divider:"l_5_l3Il",paramsText:"dBtSeOZl"}},76097:function(e){e.exports={sidebar:"JS1bNLvD",main:"YDfjPWAo",operationItem:"xueqoeeU",active:"__7BEAiLol",topBtn:"pIasM2qY",show:"X8hSc13z",operationList:"swn6I4Fh",copyBtn:"KmCI8wr8",deprecated:"xUnsXBVt",warning:"Iv8AAXIc",icon_color:"G0YHtpaa",search:"VUjM5PQ0",collapse_active:"zS_MMD3d",collapse_box:"PQAJTUWY",active_color:"vTALLv8s",wrapper_search:"jtuv10B5"}},26846:function(e){e.exports={main:"Ro_A4Z_e",placeholderWrapper:"WMVv7XJZ"}}},function(e){e.O(0,[182,657,774,888,179],(function(){return n=71082,e(e.s=n);var n}));var n=e.O();_N_E=n}]);